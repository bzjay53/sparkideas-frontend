# 🚀 IdeaSpark v2.0 - 종합 개발 계획서

> **최종 업데이트**: 2025-08-22 10:00 KST  
> **전체 진행률**: 95% → 100% (MVP 완성 목표)  
> **남은 작업**: Feature Phase + Admin Phase

---

## 📋 **전체 개발 로드맵 개요**

### **현재 상황**
- ✅ **Phase R1-R2**: 완전한 코드 리팩토링 완료 (100%)
- ✅ **인증 시스템**: 소셜 로그인, JWT 완성 (100%)  
- ✅ **AI 시스템**: GPT-4 연동, 아이디어 생성/관리 (100%)
- ✅ **텔레그램 봇**: 매일 자동 발송 시스템 (100%)

### **남은 작업 개요**
```yaml
Feature Phase: 커뮤니티 + PRD 시스템 (예상 3-4시간)
Admin Phase: 관리자 백오피스 시스템 (예상 4-5시간)
총 예상 시간: 7-9시간 (2-3세션)
최종 목표: 100% 완성된 프로덕션 레디 MVP
```

---

## 🎯 **Phase 구분 및 우선순위**

### **P0 (Blocker) - 핵심 기능 완성**
- **Feature Phase 1**: 커뮤니티 플랫폼 구축 (사용자 참여)
- **Feature Phase 2**: PRD 자동 생성 시스템 (핵심 부가가치)

### **P1 (Critical) - 운영 필수 기능** 
- **Admin Phase 1**: 관리자 인증 및 권한 시스템
- **Admin Phase 2**: 관리자 대시보드 (핵심 메트릭)
- **Admin Phase 3**: 회원 관리 시스템

### **P2 (Important) - 운영 최적화**
- **Admin Phase 4**: 컨텐츠 관리 (게시글/댓글)
- **Admin Phase 5**: 사이트 설정 및 시스템 관리

### **P3 (Enhancement) - 고도화**
- **Admin Phase 6**: 고급 분석 및 CS 도구
- **Admin Phase 7**: 마케팅 및 푸시 시스템

---

## 📊 **Feature Phase - 사용자 기능 완성**

### **Feature Phase 1: 커뮤니티 플랫폼 구축** (2시간)
```yaml
목적: 사용자들이 아이디어를 공유하고 협업할 수 있는 플랫폼
우선순위: P0 (Blocker)
복잡도: Medium
담당: Frontend + Backend
```

#### **F1.1: 커뮤니티 게시판 API 구현** (30분)
- [ ] **F1.1.1**: 게시글 CRUD API (`/api/community/posts`)
  - `GET /api/community/posts` - 게시글 목록 (페이지네이션, 필터링)
  - `POST /api/community/posts` - 게시글 작성 (인증 필요)
  - `PUT /api/community/posts/[id]` - 게시글 수정
  - `DELETE /api/community/posts/[id]` - 게시글 삭제

- [ ] **F1.1.2**: 댓글 시스템 API (`/api/community/comments`)
  - `GET /api/community/comments/[postId]` - 댓글 목록
  - `POST /api/community/comments` - 댓글 작성
  - `PUT /api/community/comments/[id]` - 댓글 수정
  - `DELETE /api/community/comments/[id]` - 댓글 삭제

- [ ] **F1.1.3**: 상호작용 API (`/api/community/interactions`)
  - 좋아요/싫어요 시스템
  - 북마크 기능
  - 신고 기능

#### **F1.2: 게시판 프론트엔드 구현** (45분)
- [ ] **F1.2.1**: 게시글 목록 페이지 (`/community`)
  - LinearCard 기반 게시글 목록 표시
  - 태그별 필터링 (자랑, 공유, 외주, 협업)
  - 검색 기능
  - 페이지네이션

- [ ] **F1.2.2**: 게시글 작성/수정 폼
  - 마크다운 에디터 또는 리치 텍스트
  - 태그 선택 시스템
  - 이미지 첨부 (옵션)
  - 미리보기 기능

- [ ] **F1.2.3**: 게시글 상세 보기 페이지
  - 게시글 내용 표시
  - 댓글 시스템 UI
  - 좋아요/북마크 버튼
  - 공유 기능

#### **F1.3: 실시간 상호작용** (30분)
- [ ] **F1.3.1**: 댓글 시스템 구현
  - 실시간 댓글 작성/수정/삭제
  - 대댓글 지원 (1단계)
  - 댓글 좋아요

- [ ] **F1.3.2**: 알림 시스템 (기본)
  - 내 게시글에 댓글 알림
  - 내 댓글에 답글 알림
  - 브라우저 알림 (선택적)

#### **F1.4: 프로젝트 매칭** (15분)
- [ ] **F1.4.1**: 태그 기반 필터링
  - 자랑: 완료된 프로젝트 쇼케이스
  - 공유: 아이디어 및 정보 공유
  - 외주: 외주 요청/제안
  - 협업: 팀원 구인/참여

---

### **Feature Phase 2: PRD 자동 생성 시스템** (1.5시간)
```yaml
목적: AI 기반 완전한 PRD 문서 자동 생성
우선순위: P0 (Blocker)
복잡도: Medium-High
담당: Frontend + Backend + AI/ML
```

#### **F2.1: PRD 템플릿 시스템** (30분)
- [ ] **F2.1.1**: PRD 템플릿 엔진 구축
  - 기본 PRD 템플릿 (개요, 기능명세, 기술스택 등)
  - 변수 치환 시스템 (아이디어 정보 → 템플릿)
  - 사용자 커스터마이징 지원

- [ ] **F2.1.2**: GPT-4 기반 PRD 생성 API
  - `/api/prd/generate` - 아이디어 기반 PRD 생성
  - 구조화된 프롬프트 엔지니어링
  - JSON 형태로 섹션별 생성

#### **F2.2: Mermaid 다이어그램 생성** (45분)
- [ ] **F2.2.1**: 자동 다이어그램 생성
  - 시스템 아키텍처 다이어그램
  - 데이터베이스 ERD
  - 사용자 플로우차트
  - API 구조도

- [ ] **F2.2.2**: Mermaid 렌더링 시스템
  - 브라우저 기반 Mermaid 렌더링
  - 인터랙티브 다이어그램
  - 모바일 최적화

#### **F2.3: PRD 뷰어 및 내보내기** (15분)
- [ ] **F2.3.1**: PRD 뷰어 페이지 (`/prd/[id]`)
  - 섹션별 TOC (목차)
  - 마크다운 렌더링
  - Mermaid 다이어그램 통합 표시

- [ ] **F2.3.2**: 다운로드 및 공유 기능
  - PDF 다운로드 (Puppeteer 또는 jsPDF)
  - 마크다운 파일 다운로드
  - 공유 링크 생성
  - 협업 기능 (댓글/수정 제안)

---

## 🛡️ **Admin Phase - 관리자 시스템 구축**

### **Admin Phase 1: 관리자 인증 및 권한 시스템** (45분)
```yaml
목적: 보안이 보장된 관리자 접근 시스템
우선순위: P1 (Critical)
복잡도: Medium
담당: Backend + Security
```

#### **A1.1: 관리자 권한 시스템** (30분)
- [ ] **A1.1.1**: 데이터베이스 권한 테이블 생성
  ```sql
  -- user_roles 테이블 생성
  CREATE TABLE user_roles (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id UUID REFERENCES auth.users(id),
    role TEXT NOT NULL, -- 'admin', 'moderator', 'user'
    permissions JSONB, -- 세부 권한 설정
    created_at TIMESTAMPTZ DEFAULT NOW()
  );
  ```

- [ ] **A1.1.2**: 관리자 권한 확인 미들웨어
  - `/lib/middleware/admin-auth.ts` - 관리자 권한 검증
  - Role 기반 접근 제어 (RBAC)
  - 세션 기반 권한 캐싱

- [ ] **A1.1.3**: 관리자 로그인 페이지
  - `/admin/login` - 별도 관리자 로그인 페이지
  - 2차 인증 지원 (선택적)
  - 관리자 초대 시스템

#### **A1.2: 관리자 레이아웃 시스템** (15분)
- [ ] **A1.2.1**: 관리자 전용 레이아웃
  - `/src/components/admin/AdminLayout.tsx`
  - 사이드바 네비게이션
  - 관리자 헤더 (알림, 프로필)
  - 반응형 관리자 UI

---

### **Admin Phase 2: 관리자 대시보드** (1시간)
```yaml
목적: 핵심 지표와 실시간 모니터링
우선순위: P1 (Critical) 
복잡도: Medium-High
담당: Frontend + Backend + Analytics
```

#### **A2.1: 핵심 메트릭 대시보드** (30분)
- [ ] **A2.1.1**: 실시간 통계 위젯
  - 전체 사용자 수 (일간/주간/월간)
  - 게시글/댓글 수 (일간/주간/월간)
  - AI 아이디어 생성 횟수
  - 텔레그램 발송 현황
  - 서버 상태 (API 응답 시간, 에러율)

- [ ] **A2.1.2**: 그래프 및 차트
  - Chart.js 기반 트렌드 차트
  - 사용자 활성도 히트맵
  - 인기 태그 워드클라우드
  - 지역별 사용자 분포 (옵션)

#### **A2.2: 시스템 모니터링** (30분)
- [ ] **A2.2.1**: 시스템 상태 모니터링
  - API 엔드포인트 상태 체크
  - 데이터베이스 연결 상태
  - 외부 API 상태 (OpenAI, Reddit, Telegram)
  - 서버 리소스 사용률 (선택적)

- [ ] **A2.2.2**: 에러 및 로그 모니터링
  - 최근 에러 로그 요약
  - API 호출 실패 통계
  - 사용자 신고 접수 현황
  - 성능 이슈 알림

---

### **Admin Phase 3: 회원 관리 시스템** (1시간)
```yaml
목적: 사용자 계정 및 활동 관리
우선순위: P1 (Critical)
복잡도: Medium  
담당: Frontend + Backend
```

#### **A3.1: 사용자 목록 및 검색** (30분)
- [ ] **A3.1.1**: 사용자 목록 페이지 (`/admin/users`)
  - 페이지네이션된 사용자 목록
  - 검색 기능 (이메일, 이름, ID)
  - 정렬 기능 (가입일, 활동도, 권한)
  - 필터링 (활성/비활성, 역할별)

- [ ] **A3.1.2**: 사용자 상세 정보
  - 기본 정보 (가입일, 마지막 로그인 등)
  - 활동 통계 (게시글, 댓글, 아이디어 생성)
  - 권한 및 역할 표시
  - 계정 상태 (활성/정지/삭제)

#### **A3.2: 사용자 관리 기능** (30분)
- [ ] **A3.2.1**: 계정 상태 관리
  - 계정 활성화/비활성화
  - 임시 정지 (기간 설정)
  - 계정 삭제 (soft delete)
  - 계정 복구

- [ ] **A3.2.2**: 역할 및 권한 관리
  - 사용자 역할 변경 (user ↔ moderator)
  - 관리자 권한 부여/제거
  - 특별 권한 설정 (게시글 고정 등)

---

### **Admin Phase 4: 컨텐츠 관리 시스템** (1시간)
```yaml
목적: 게시글, 댓글, 아이디어 관리
우선순위: P2 (Important)
복잡도: Medium
담당: Frontend + Backend
```

#### **A4.1: 게시글 관리** (30분)
- [ ] **A4.1.1**: 게시글 목록 페이지 (`/admin/posts`)
  - 모든 게시글 목록 (페이지네이션)
  - 신고된 게시글 우선 표시
  - 상태별 필터링 (공개/숨김/삭제)
  - 태그별 필터링

- [ ] **A4.1.2**: 게시글 관리 기능
  - 게시글 숨김/표시
  - 게시글 고정/해제
  - 게시글 삭제 (soft delete)
  - 게시글 카테고리 변경

#### **A4.2: 댓글 및 상호작용 관리** (30분)
- [ ] **A4.2.1**: 댓글 관리 (`/admin/comments`)
  - 최근 댓글 목록
  - 신고된 댓글 관리
  - 댓글 삭제/숨김
  - 스팸 댓글 자동 감지 (키워드 기반)

- [ ] **A4.2.2**: 신고 관리 시스템
  - 사용자 신고 목록
  - 신고 유형별 분류
  - 신고 처리 상태 관리
  - 신고자/피신고자 관리

---

### **Admin Phase 5: 사이트 설정 및 시스템 관리** (45분)
```yaml
목적: 사이트 운영 설정 및 시스템 관리
우선순위: P2 (Important)
복잡도: Low-Medium
담당: Frontend + Backend
```

#### **A5.1: 사이트 기본 설정** (30분)
- [ ] **A5.1.1**: 사이트 설정 페이지 (`/admin/settings`)
  - 사이트 제목, 설명 수정
  - 메타데이터 관리 (SEO)
  - 소셜 미디어 링크
  - 연락처 정보

- [ ] **A5.1.2**: 기능 설정 관리
  - 회원가입 허용/차단
  - 게시글 작성 권한 설정
  - AI 기능 on/off
  - 텔레그램 봇 설정

#### **A5.2: 시스템 관리** (15분)
- [ ] **A5.2.1**: 데이터베이스 관리
  - 테이블별 데이터 개수 확인
  - 백업 상태 확인
  - 인덱스 최적화 상태
  - 저장 공간 사용률

- [ ] **A5.2.2**: 캐시 및 성능 관리
  - 캐시 클리어 기능
  - API 응답 시간 모니터링
  - 이미지 최적화 상태
  - CDN 설정 관리

---

### **Admin Phase 6: 고급 분석 및 CS 도구** (1.5시간)
```yaml
목적: 심층 분석 및 고객 지원 도구
우선순위: P3 (Enhancement)
복잡도: High
담당: Frontend + Backend + Analytics
```

#### **A6.1: 고급 분석 도구** (1시간)
- [ ] **A6.1.1**: 사용자 행동 분석
  - 사용자 여정 추적
  - 기능별 사용률 통계
  - A/B 테스트 결과 분석
  - 이탈률 분석

- [ ] **A6.1.2**: 비즈니스 인텔리전스
  - 인기 키워드 트렌드
  - AI 생성 아이디어 성공률
  - 커뮤니티 참여도 분석
  - 매출 분석 (유료 기능 시)

#### **A6.2: CS 도구** (30분)
- [ ] **A6.2.1**: 고객 지원 시스템
  - 문의사항 관리
  - FAQ 관리
  - 공지사항 관리
  - 이용약관/개인정보처리방침 관리

- [ ] **A6.2.2**: 사용자 소통 도구
  - 전체 공지 발송
  - 개별 사용자 메시지
  - 이벤트/프로모션 관리
  - 설문조사 시스템

---

### **Admin Phase 7: 마케팅 및 푸시 시스템** (1시간)
```yaml
목적: 사용자 참여도 향상 및 마케팅
우선순위: P3 (Enhancement)
복잡도: Medium-High
담당: Frontend + Backend + Marketing
```

#### **A7.1: 이메일 마케팅** (30분)
- [ ] **A7.1.1**: 이메일 템플릿 관리
  - 환영 이메일 템플릿
  - 주간 다이제스트 템플릿
  - 이벤트 알림 템플릿
  - 이탈 방지 이메일

- [ ] **A7.1.2**: 이메일 발송 시스템
  - 예약 발송 기능
  - 사용자 그룹별 발송
  - 발송 결과 추적 (오픈율, 클릭률)
  - 구독 취소 관리

#### **A7.2: 푸시 알림 시스템** (30분)
- [ ] **A7.2.1**: 브라우저 푸시 알림
  - 새 댓글 알림
  - 새 아이디어 추천 알림
  - 이벤트 알림
  - 개인화된 알림

- [ ] **A7.2.2**: 모바일 푸시 (선택적)
  - PWA 푸시 알림
  - 모바일 앱 연동 (향후)
  - 푸시 통계 분석
  - 알림 설정 관리

---

## 📊 **전체 우선순위 매트릭스**

### **즉시 시작 (현재 세션)**
```yaml
Priority: P0 (Blocker)
Duration: 2-3시간

1. Feature Phase 1.1-1.2: 커뮤니티 게시판 API + UI
2. Feature Phase 2.1: PRD 템플릿 시스템
3. Admin Phase 1.1: 관리자 권한 시스템
```

### **다음 세션 (우선 처리)**
```yaml
Priority: P1 (Critical)  
Duration: 3-4시간

1. Admin Phase 2: 관리자 대시보드 (핵심 메트릭)
2. Admin Phase 3: 회원 관리 시스템
3. Feature Phase 2.2-2.3: Mermaid + PRD 뷰어
```

### **후속 세션 (최적화)**
```yaml
Priority: P2-P3 (Important-Enhancement)
Duration: 2-3시간

1. Admin Phase 4-5: 컨텐츠/사이트 관리
2. Admin Phase 6-7: 고급 분석/마케팅 (선택적)
```

---

## 🔄 **진행상황 체크리스트 시스템**

### **체크리스트 관리 방식**
- [ ] **문서 기반**: 이 파일에서 체크박스로 진행상황 관리
- [ ] **TodoWrite 연동**: 각 Phase를 TodoWrite로 실시간 추적
- [ ] **Git 커밋**: 각 subtask 완료시 의미있는 커밋 메시지

### **완료 조건 정의**
```yaml
각 Subtask 완료 조건:
  - 코드 구현 완료
  - 기본 테스트 통과
  - 문서 업데이트
  - Git 커밋 완료

각 Phase 완료 조건:
  - 모든 Subtask 완료
  - 통합 테스트 통과
  - 사용자 테스트 가능한 상태
  - 문서화 완료
```

### **다음 세션 연속성 보장**
- [ ] **세션 종료시**: 현재 진행상황을 이 문서에 업데이트
- [ ] **세션 시작시**: 이 문서의 체크리스트로 상황 파악
- [ ] **Git 태그**: 각 Phase 완료시 버전 태그 생성
- [ ] **배포 확인**: 각 Phase별 배포 테스트 완료

---

## 🎯 **예상 완료 타임라인**

### **현재 세션** (2-3시간)
- [ ] Feature Phase 1 완료 (커뮤니티 기본)
- [ ] Admin Phase 1 완료 (관리자 권한)
- [ ] Feature Phase 2.1 완료 (PRD 기본)

### **다음 세션** (3-4시간)  
- [ ] Admin Phase 2-3 완료 (대시보드 + 회원관리)
- [ ] Feature Phase 2 완료 (PRD 완성)

### **최종 세션** (2-3시간)
- [ ] Admin Phase 4-5 완료 (컨텐츠 관리)
- [ ] 전체 테스트 및 배포
- [ ] 문서 정리 및 인수인계

### **총 예상 시간: 7-10시간 (3세션)**

---

## 📋 **세션별 상세 실행 계획**

### **현재 세션 액션 플랜**
```bash
# 1단계: Feature Phase 1.1 (30분)
- 커뮤니티 게시판 API 엔드포인트 4개 구현
- 기본 CRUD 테스트 완료

# 2단계: Feature Phase 1.2 (45분)  
- /community 페이지 생성
- 게시글 목록/작성/상세 UI 구현

# 3단계: Admin Phase 1.1 (30분)
- 관리자 권한 테이블 생성
- /admin 라우트 보안 설정

# 4단계: 통합 테스트 (15분)
- 전체 기능 동작 확인
- 다음 세션 준비 완료
```

---

**📞 현재 상태**: 종합 계획서 작성 완료 - 즉시 구현 시작 가능  
**⏰ 예상 시간**: 현재 세션 2-3시간, 전체 완성 7-10시간  
**🎯 최종 목표**: 100% 완성된 프로덕션 레디 IdeaSpark v2.0  
**📈 진행률**: 95% → 100% (Feature + Admin 완성)

---

> **다음 액션**: Feature Phase 1.1부터 시작하여 커뮤니티 게시판 API 구현